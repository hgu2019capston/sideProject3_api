{% include 'material/includes/material_css.html' %}
{% include 'material/includes/material_js.html' %}

{% block sidebar %}
<ul class="sidebar-nav-wrapper">
   {% if user.is_authenticated %}
     <li><i class="material-icons prefix">face</i>{{ user.get_username }}<a href="{% url 'logout'%}">  Logout</a></li>
   {% else %}
     <script type="text/javascript">
         (function() {
        alert('please login.');
        window.location.replace("{% url 'login'%}");
    })();       
     </script>
   {% endif %}
  </ul>
{% endblock %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Chat Rooms</title>
</head>

<body>
    <p>(Admin) Create your game code<br/></p>
    <input id="room-name-input" type="text" size="100"/><br/>
    <input id="room-name-submit" type="button" value="Enter"/>
    
    <p>(User) Enter your game code<br/></p>
    <input id="room-name-input2" type="text" size="100"/><br/>
    <input id="room-name-submit2" type="button" value="Enter"/>
   
    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            window.location.pathname = '/room/' + roomName + '/';
        };

        document.querySelector('#room-name-input2').focus();
        document.querySelector('#room-name-input2').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit2').click();
            }
        };

        document.querySelector('#room-name-submit2').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input2').value;
            window.location.pathname = '/check/' + roomName + '/';
        };

    </script>
</body>
</html>

